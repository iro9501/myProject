<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.springboot.project.dao.IMemberDAO">
	<select id="listDAO" resultType="com.springboot.project.dto.MemberDTO">
		select * from member where mcode like 'M%' order by mcode
	</select>
	<select id="oneOfListDAO" resultType="com.springboot.project.dto.MemberDTO">
		select * from member where mcode = #{param1}
	</select>
	<select id="findById" resultType="com.springboot.project.dto.MemberDTO">
		select * from member where mid = #{param1}
	</select>
	<select id="idchkDAO" resultType="int">
		select count(*) 
		 from member where mid = #{param1}
	</select>
	<insert id="insertDAO">
		insert into member
		 values('M'||member_seq.nextval,#{mid},#{mpwd},#{mname},#{mgender},#{mbirth},#{memail},#{mtel},#{maddr},sysdate,'USER')
<!-- 			values('M00003',#{mid},#{mpwd},#{mname},#{mgender},#{mbirth},#{memail},#{mtel},#{maddr},sysdate,'ADMIN') -->
	</insert>
	<delete id="deleteDAO">
		delete from member where mcode = #{param1}
	</delete>
	<update id="updateDAO">
		update member
		 set mpwd = #{mpwd}, memail = #{memail}, mtel = #{mtel}, maddr = #{maddr}
		 where mcode = #{mcode}
	</update>
</mapper>